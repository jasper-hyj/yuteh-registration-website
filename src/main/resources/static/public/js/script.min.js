"use strict";window.addEventListener("load",function(){try{const e=document.getElementById("form"),t=document.getElementById("form_container"),n=document.getElementById("form_loading");e.addEventListener("submit",function(r){r.preventDefault(),t.classList.add("d-none"),n.classList.remove("d-none"),function(){const r=new XMLHttpRequest,s=new FormData(e);var a={};s.forEach((e,t)=>{Reflect.has(a,t)?(Array.isArray(a[t])||(a[t]=[a[t]]),a[t].push(e)):a[t]=e});var o=JSON.stringify(a);document.getElementById("form_fieldset").disabled=!0,r.addEventListener("load",function(e){200==r.status?(alert(e.target.responseText),null!=window.location.href.match("admin")?window.close():window.location="/"):(alert(e.target.responseText),document.getElementById("form_fieldset").disabled=!1,t.classList.remove("d-none"),n.classList.add("d-none"))}),r.addEventListener("error",function(e){alert(e.target.responseText)}),r.open("POST","/form"),r.send(o)}()})}catch(e){}try{const e=document.getElementById("search_form"),t=(document.getElementById("search_button"),document.getElementById("edit_button")),n=document.getElementById("search_fieldset");e.addEventListener("submit",function(t){t.preventDefault(),function(){const t=new XMLHttpRequest,r=new FormData(e);n.disabled=!0;var s={};r.forEach((e,t)=>{Reflect.has(s,t)?(Array.isArray(s[t])||(s[t]=[s[t]]),s[t].push(e)):s[t]=e});var a=JSON.stringify(s);t.addEventListener("load",function(e){if(200==t.status){var r;r=JSON.parse(e.target.response);var s=Object.keys(r);document.getElementById("result_container").classList.remove("invisible"),document.getElementById("form_name").innerHTML=`${r[s[0]]}`;var a=document.getElementById("result_content");s.shift(),s.forEach((e,t)=>{var n=r[e],s=Object.keys(n),o=`<h5 class="c-txt-size_l3 mt-3">${e}</h5><table class="table"><tbody>`;s.forEach((e,t)=>{o+=`<tr><td style="width: 50%;">${e}</td><td style="word-break: break-all;">${JSON.stringify(n[e]).replace(/\"/g,"")}</td></tr>`}),o+="</tbody></table>",a.innerHTML+=o}),document.getElementById("search_form").style.display="none"}else alert(e.target.responseText),n.disabled=!1}),t.addEventListener("error",function(e){n.disabled=!1,alert(e.target.responseText)}),t.open("POST","/form/search/student"),t.send(a)}()}),t.addEventListener("click",function(t){t.preventDefault(),function(){const t=new XMLHttpRequest,r=new FormData(e);n.disabled=!0;var s={};r.forEach((e,t)=>{Reflect.has(s,t)?(Array.isArray(s[t])||(s[t]=[s[t]]),s[t].push(e)):s[t]=e});var a=JSON.stringify(s);t.onload=function(e){200==t.status?window.location="/form/edit":(alert(e.target.responseText),n.disabled=!1)},t.onerror=function(e){alert(e.target.responseText)},t.open("post","/form/edit"),t.send(a)}()})}catch(e){}});